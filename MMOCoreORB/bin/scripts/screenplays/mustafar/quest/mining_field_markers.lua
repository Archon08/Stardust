--[[
string/en/conversation/som_exploration_marker.stf
string/en/quest/ground/som_exploration_berken.stf

The Mining Field Markers
EDIT
 
SHARE
The Mining Field Markers is a series of quests. These quests are good for players new to Mustafar that want to explore the planet. Because the markers that the players must check are scattered all around the planet, they will run into many aggressive naturally high-CL creatures and NPC's. Luckily, the quests do not require that players engage in combat to activate the markers. To start the quests, talk to Surveyor Jo Keslev (/wp 313 -1267) in the Mensix Mining Facility.

Rewards:

290 (Quest) XP (per set of markers activated)
5000 Credits (per set of markers activated)
Master Mustafar Trailblazer Badge
Tanray Heart Crystal (once all the markers have been activated)
Difficulty
Recommended combat levels: 75 and higher

Contents[show]
The conversation with Surveyor Jo Kelsev Edit
"Welcome to our fiery moon. I have noticed you around and was hoping for a chance to speak with you. You seem very interested in helping others and I was wondering if you would be willing to perform a small task for me?"

"We'll I have put up a number of markers around the planet. They are very helpful to keep track of certain important areas. Our world has a tendency to shift unexpectedly and it is important that we carefully mark different areas. Naturally, the markers also shift, so we occasionally have to manually check them out to make sure they are still valid."

"Well, recent events have left me extremely short-handed, and I was hoping that you would check out these markers for me. The job is really simple. All you need to do is find the markers and activate them to make sure they still have valid information on them."

"It would be, except that due to the shifting of our moon's surface, I cannot give you precise locations. All I can do is give you general directions to where each one should be. Each of Mustafar's main areas has several of these markers scattered throughout them. I will need you to activate each area's markers individually."

"Hmmmm... How about this? For each area you complete, I will pay you five thousand credits. And as a bonus, if you check all the markers in all the areas, I will give you a Tanray Heart Crystal."

"It is a fabulous crystal formed under intense heat and pressure that is...well, it is shaped like the heart of a tanray. They can be worth a hefty sum to certain collectors, but most people just use them as decoration. So do we have a deal?"

"Excellent. So what area would you like to search for markers in? We have markers near the mining facilty, in the Crystal Flats, up in the Smoking Forest, around the Central Volcano, in the Burning Plains, all over Berken's Flow, and of course, in the Tulrus Nesting Grounds."

"Sure do. Remember, you will receive five thousand credits per area searched, and if you complete them all, I will toss in a Tanray Heart Crystal."

Activate the markers Edit
Finding the markers is the difficult part, activating the markers is easy. You can either "double-click" on the marker or use the radial menu to activate the marker. Each time you active a marker, it will give you a little "tidbit" of information about the area you are in or close to. When you are done activating all the markers in the area, return to Surveyor Jo Keslev for your reward and next quest. Complete all the quests and you will receive the Tanray Heart Crystal.

The Berken’s Flow MarkersEdit
Droid Factory Marker /way 3272 -758
Built by the seperatists shortly before they were found slain in the old Klegger Mining Facility at the end of the Clone Wars. No mining crews who have entered this factory have ever come back.
Tulrus Isle Bridge Marker /way 2305 -486
The Klegger Corp. bridge connects Berken's Flow to the Tulrus Nesting Grounds. Due to the highly dangerous nature of the nesting grounds and their relative lack of resources, this bridge is hardly ever used.
Jedi Ruins Marker /way 2959 996
The ruins were uncovered...edit...WARNING: The party of archeologists who were examining these ruins formed themselves into some sort of dangerous cult. They worship a man they call the Storm Lord and will attack anyone who does not accept him as a god.
Old Republic Facility Marker /way 2269 3056
WARNING: Sealed by the order of Milo Mensix. This ancient facility, dating back to the days of the Old Republic, is overrun with still active security droids and the occasional beast which gets trapped inside.
Berken’s Flow Marker /way 2373 706
Named after the famed Mustafarian Jesl Berken, Berken's Flow was once the richest source of raw materials in the known galaxy. The wealth of Mustafar all started with the discovery of Berken's Flow. Today, most of its minerals extracted, Berken's Flow is used only for the smallest of mining operations.
Copy and paste waypoints The Berken’s Flow Markers

/way 3272 -758 Droid Factory Marker;
/way 2305 -486 Tulrus Isle Bridge Marker;
/way 2959 996 Jedi Ruins Marker;
/way 2269 3056 Old Republic Facility Marker;
/way 2373 706 Berken’s Flow Marker;

The Burning Plains MarkersEdit
Berken’s Flow Bridge Marker /way 764 2536
Another Klegger Corp. bridge that shows the wear of time on its steel frame. This bridge connects the Burning Plains to Berken's Flow.
Temple Ruins Marker /way 90 2945
WARNING: These ruins are closed by the order of Milo Mensix. Everyone who spends any time in these ruins seems to lose their mind. Miners who have visited these ruins and returned have reported a very uneasy feeling, like they were being watched. The ruins themselves seem to be that of a great temple of unknown origin.
Central Volcano Bridge Marker /way 103 1618
Another bridge built by the Klegger Corporation. This bridge leads to the second largest volcano in the region. Although a poor source of resources, the volcano is invaluable as a landmark on a ever-shifting world.
Central Burning Plains Marker /way 74 2156
There are only a few high points of high elavation in the Burning Plains. When the plains finally are swallowed by the lava, these areas will become important mining islands.
Northern Burning Plains Marker /way -1610 2930
The surface crust of the Burning Plains is especially thin. This allows lava to nearly bubble through the surface. Most experts agree that, if the area suffers a big enough earthquake, the entire plain will become a sea of lava.
Copy and paste waypoints The Burning Plains Markers

/way 764 2536 Berken’s Flow Bridge Marker;
/way 90 2945 Temple Ruins Marker;
/way 103 1618 Central Volcano Bridge Marker;
/way 74 2156 Central Burning Plains Marker;
/way -1610 2930 Northern Burning Plains Marker;

The Central Volcano MarkersEdit
Kubaza Beetle Cavern Marker /way -823 430
The cavern was originally built by the seperatists during their excavation of the Old Republic cruiser. After they left, it became a hive for kabaza beetles, hence the name. WARNING: The cavern was closed by order of Milo Mensix after a field crew of miners was lost to the beetles while surveying the cavern.
Old Republic Cruiser Crash Site Marker /way 97 179
The remains of this cruiser were excavated during the Clone Wars by the seperatists. After a brief period where they had sealed the area off, the seperatists left the area and began work on their new factory. Warning: Salvage Bandits have moved into this region and have begun dismantling the ship. They are highly dangerous and will kill on sight.
Main Lava Flow Marker /way -95 1201
The central volcano deposits close to 20,000 gallons of lave per second into the lava pools below. Unfortunately, this volcano's deposits are rather poor in usable resources. This is why the majority of the mining operations are in the higher grounds to the south.
Copy and paste waypoints The Central Volcano Markers

/way -823 430 Kubaza Beetle Cavern Marker;
/way 97 179 Old Republic Cruiser Crash Site Marker;
/way -95 1201 Main Lava Flow Marker;

The Crystal Flats MarkersEdit
Crystal Flats Bridge /way -2329 -468
Built by the Klegger Corporation when they were the dominate mining company on Mustafar, these bridges were originally formed out of steel, although you wouldn't know it by looking at themnow. Years in the harsh environment have coated the bridges with volcanic ash and rock so that they now look like natural rock formations.
Crystal Fields Marker /way -1139 -543
Like most of Mustafar, the crystal fields were formed relatively quickly. The sudden shift of the moon's orbit is causing the world to tear itself apart. This has made many geologic formations, like the crystal fields, that normally take millions of years to form on other worlds to sprout up virtually over night.
Crystal Falls Marker /way -1771 -1283
The crystal falls are a rich source of crystalline ore. The area at the base of the falls is covered with rocks that have grown from the rich crystal minerals that flow out of these falls.
Salvage Bandit Camp /way -3041 -2873
WARNING: Proceed at your own risk. This used to be a field miners' camp until it was overrun by salvage bandits. These Mustafarians belong to no company and will simply steal anything that isn't nailed down.
Crossroads /way -1369 -2797
The crossroads is not really located at any sort of road. There are no true roads on Mustafar. The ever-shifting moon makes it impossible to maintain any sort of permanent road system. The name comes from what the locals call the strip where they leave the relative safety of the mining fields for the more wild parts of the planet.
Copy and paste waypoints Crystal flats Markers

/way -2329 -468 Crystal Flats Bridge;
/way -1139 -543 Crystal Fields Marker;
/way -1771 -1283 Crystal Falls Marker;
/way -3041 -2873 Salvage Bandit Camp;
/way -1369 -2797 Crossroads;

The Mining Field MarkersEdit
Southern Lava Falls /way 2148 -3165
Mustafar's wealth comes entirely from its natural resources. The lava brings up rare metals and ores to the surface, where they are easily collected by the miners.
Koseyet Bridge /way 3045 -3186
This natural land bridge connects the main mining fields to the Koseyet Mining Camp. The Koseyet mining camp sits on one of the richest mineral deposits on Mustafar and is heavily defended by the miners.
Destroyed Mining Facility /way 842 -2273
This facility was destroyed and abandoned shortly before the end of the Clone Wars. Salvage crews who investigated the facility after its destruction found the bodies of the seperatist leaders, including Viceroy Gunray, murdered by a lightsaber.
Mensix Mining Facility /way -66 -1681
The Mensix Mining facility was built shortly after the destruction of the old mining facility. The new facility is nearly an exact replica of the old facility and most of its technology dates back to the days of the Old Republic.
Chu-Gon Dar Ruins /way 336 -2921
These ruins date back well into the earliest days of the Old Republic. Some experts date them from before the time of the first Sith War. Certain experts believe that this ruin was the laboratory of the great Jedi Master Chu-Gon Dar, an expert at using the force to manipulate physical objects.
Copy and paste waypoints The Mensix Mining Facility Markers

/way 2148 -3165 Southern Lava Falls;		02
/way 3045 -3186 Koseyet Bridge;			03
/way 842 -2273 Destroyed Mining Facility;	04
/way -66 -1681 Mensix Mining Facility;		05
/way 336 -2921 Chu-Gon Dar Ruins;		01


The Smoking Forest MarkersEdit
Northern Jedi Ruins Marker /way -2572 3220
Like the other ruins located areound Mustafar, this ruin appeared after a major earthquake. It's in remarkably good shape; our geologists place its age to be at least 5000 years old.
Burning Plains Bridge Marker /way -1551 1985
Like the rest of the bridges on Mustafar, this bridge was built by the Klegger Corporation long before the start of the Clone Wars to connect the Smoking Forest to the Burning Plains.
Field Miner Camp Marker /way -2271 1268
Mines like those in the Smoking Forest are very rare on Mustafar because they actually involve digging into the lava rock to extract minerals. While much harder than lava mining, the mines in the Smoking Forest produce some very rich veins of raw materials.
Southern Jedi Ruins Marker /way -1404 400
These ruins were uncovered roughly 18 years after the end of the Clone Wars. Mustafar simply shifted, and they were revealed. Offworlders have become very excited by the discovery of these ruins and others like them.
Western Smoking Forest Marker /way -3345 1413
The smoking forest was once thick with black smoke that was released by giant rock formations. Over time, the formations sealed off, and they eventually toppled down.
Copy and paste waypoints The Smoking Forest Markers

/way -2572 3220 Northern Jedi Ruins Marker;
/way -1551 1985 Burning Plains Bridge Marker;
/way -2271 1268 Field Miner Camp Marker;
/way -1404 400 Southern Jedi Ruins Marker;
/way -3345 1413 Western Smoking Forest Marker;

The Tulrus Nesting Grounds MarkersEdit
Sher Kar Cave Marker /way 909 1098
WARNING: Entering into the Sher Kar Cave is very foolish and will result in your death. By order of Milo Mensix, the cave has is sealed by a relic we located at the Jedi ruins.
Tulrus Nesting Grounds Marker /way 1082 63
The nesting grounds are the traditional breeding grounds of the tulrus. The tulrus have successfully driven out most predators from their island in order to better protect their young. Only the jundak (and Sher Kar, of course) manage to survive on the island.
Tulrus Nesting Grounds Entrance Marker /way 1220 -530
WARNING: Proceed past this point at your own risk. Tulrus are extremely protective of their breeding grounds and will attack any intruder on sight.
Copy and paste waypoints The Tulrus Nesting Grounds Markers

/way 909 1098 Sher Kar Cave Marker;
/way 1082 63 Tulrus Nesting Grounds Marker;
/way 1220 -530 Tulrus Nesting Grounds Entrance Marker;

Final conversation with Surveyor Jo KelsevEdit
"Hello again. my friend. You certainly have done a wonderful job and saved me all sorts of trouble trying to check all of those markers out. And as promised, here is your Tanray Heart Crystal. Thank you again."
--]]
local QuestManager = require("managers.quest.quest_manager")
local ObjectManager = require("managers.object.object_manager")

miningFieldMarkersScreenPlay = ScreenPlay:new {
	numberOfActs = 1,

	screenplayName = "miningFieldMarkersScreenPlay",
	
	queststring = "miningfieldmarkerscreenplay",


}

registerScreenPlay("miningFieldMarkersScreenPlay", true)

function miningFieldMarkersScreenPlay:start()
	if (isZoneEnabled("mustafar")) then
		self:spawnMobiles()
		self:spawnObjects()
	end
end

function miningFieldMarkersScreenPlay:spawnMobiles()

	spawnMobile("mustafar", "surveyor_jo", 1, 145.6, 18.6, -58.0, -50, 12112243 )

end

function miningFieldMarkersScreenPlay:spawnObjects()

	pBerkenOne = spawnSceneObject("mustafar", "object/tangible/quest/som_berken_marker_01.iff", -507.47, 58, 3681.4, 0, 0 )  -- Berkens Flow Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "berkenOneUsed", pBerkenOne, pPlayer)

	pBerkenTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_berken_marker_02.iff", -574.82, 61.786, 2491.94, 0, 0 )  -- Tulrus Isle Bridge Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "berkenTwoUsed", pBerkenTwo, pPlayer)
	
	pBerkenThree = spawnSceneObject("mustafar", "object/tangible/quest/som_berken_marker_03.iff", 392.49, 45.1373, 2220.11, 0, 0 )  -- Droid Factory Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "berkenThreeUsed", pBerkenThree, pPlayer)
	
	pBerkenFour = spawnSceneObject("mustafar", "object/tangible/quest/som_berken_marker_04.iff", 79.3501, 128.963, 3971.21, 0, 0 )  --  Jedi Ruins Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "berkenFourUsed", pBerkenFour, pPlayer)
	
	pBerkenFive = spawnSceneObject("mustafar", "object/tangible/quest/som_berken_marker_05.iff", -610.59, 87.1491, 6031.32, 0, 0 ) -- Old Rep Facility Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "berkenFiveUsed", pBerkenFive, pPlayer)
	
	
	
	pBurningOne = spawnSceneObject("mustafar", "object/tangible/quest/som_burning_marker_01.iff", -2155.66, 62.7735, 5511.92, 0, 0 ) -- Berken's Flow Bridge Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "burningOneUsed", pBurningOne, pPlayer)	
	
	pBurningTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_burning_marker_02.iff", -2776.59, 23.5186, 4593.53, 0, 0 ) -- Central Volcano bridge marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "burningOneUsed", pBurningTwo, pPlayer)
		
	pBurningThree = spawnSceneObject("mustafar", "object/tangible/quest/som_burning_marker_03.iff", -2805.63, 122.179, 5131.71, 0, 0 ) -- Central Burning Plains Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "burningOneUsed", pBurningThree, pPlayer)	
		
	pBurningFour = spawnSceneObject("mustafar", "object/tangible/quest/som_burning_marker_04.iff", -2789.93, 21.4531, 5921.04, 0, 0 )  -- Temple ruins marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "burningOneUsed", pBurningFour, pPlayer)	
		
	pBurningFive = spawnSceneObject("mustafar", "object/tangible/quest/som_burning_marker_05.iff", -4490.58, 15.909, 5905.25, 0, 0 ) -- Northern burning plains marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "burningOneUsed", pBurningFive, pPlayer)
	
	
		
		

	pVolcanoOne = spawnSceneObject("mustafar", "object/tangible/quest/som_volcano_marker_01.iff", -2974.96, 118.937, 4176.87, 0, 0 ) -- main lava flow marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "volcanoOneUsed", pVolcanoOne, pPlayer)
		
	pVolcanoTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_volcano_marker_02.iff", -3703.1, 136.583, 3405.69, 0, 0 ) -- kubaza beetle cave marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "volcanoTwoUsed", pVolcanoTwo, pPlayer)
		
	pVolcanoThree = spawnSceneObject("mustafar", "object/tangible/quest/som_volcano_marker_03.iff", -2783.21, 144.265, 3154.02, 0, 0 ) -- crashed old rep ship marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "volcanoThreeUsed", pVolcanoThree, pPlayer)
		
		
		
	
	pCrystalOne = spawnSceneObject("mustafar", "object/tangible/quest/som_crystal_marker_01.iff", -4018.92, 75.1095, 2432.66, 0, 0 ) -- Crystal Flats Marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "crystalOneUsed", pCrystalOne, pPlayer)	
	
	pCrystalTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_crystal_marker_02.iff", -5207.46, 5.71105, 2506.45, 0, 0 ) -- Crystal flats bridge marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "crystalTwoUsed", pCrystalTwo, pPlayer)
		
	pCrystalThree = spawnSceneObject("mustafar", "object/tangible/quest/som_crystal_marker_03.iff", -4650.37, 186.342, 1692.05, 0, 0 ) -- crystal falls marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "crystalThreeUsed", pCrystalThree, pPlayer)
		
	pCrystalFour = spawnSceneObject("mustafar", "object/tangible/quest/som_crystal_marker_04.iff", -5920.99, 86.3664, 102.05, 0, 0 ) -- salvage bandit camp marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "crystalFourUsed", pCrystalFour, pPlayer)
		
	pCrystalFive = spawnSceneObject("mustafar", "object/tangible/quest/som_crystal_marker_05.iff", -4248.21, 73.8265, 177.7, 0, 0 ) -- crossroads marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "crystalFiveUsed", pCrystalFive, pPlayer)	
	
	
	
	
	pMiningOne = spawnSceneObject("mustafar", "object/tangible/quest/som_mining_marker_01.iff", -2949.52, 133.114, 1293.82, 0, 0 )  -- Mensix Mining Facility marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "miningOneUsed", pMiningOne, pPlayer)	
	
	pMiningTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_mining_marker_02.iff", -2035.3, 151.1, 704.2, 0, 0 )  -- destroyed mining facility marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "miningTwoUsed", pMiningTwo, pPlayer)	
	
	pMiningThree = spawnSceneObject("mustafar", "object/tangible/quest/som_mining_marker_03.iff", -2542.81, 147.81, 58.28, 0, 0 ) -- chugondar ruins
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "miningThreeUsed", pMiningThree, pPlayer)	
	
	pMiningFour = spawnSceneObject("mustafar", "object/tangible/quest/som_mining_marker_04.iff", -734.32, 103.559, -193.217, 0, 0 ) -- southern lava falls
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "miningFourUsed", pMiningFour, pPlayer)	
	
	pMiningFive = spawnSceneObject("mustafar", "object/tangible/quest/som_mining_marker_05.iff", 168.49, 127.989, -205.708, 0, 0 ) -- koseyet bridge
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "miningFiveUsed", pMiningFive, pPlayer)	
	
	
	
	
	
	pSmokingOne = spawnSceneObject("mustafar", "object/tangible/quest/som_smoking_marker_01.iff", -4284.06, 80.8645, 3375.31, 0, 0 ) -- Southern Jedi Ruins
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "smokingOneUsed", pSmokingOne, pPlayer)		

	pSmokingTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_smoking_marker_02.iff", -5151.03, 180.804, 4243.6, 0, 0 ) -- field miner camp marker
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "smokingTwoUsed", pSmokingTwo, pPlayer)		

	pSmokingThree = spawnSceneObject("mustafar", "object/tangible/quest/som_smoking_marker_03.iff", -6225.11, 41.474, 4388.46, 0, 0 ) -- western smoking plains
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "smokingThreeUsed", pSmokingThree, pPlayer)		

	pSmokingFour = spawnSceneObject("mustafar", "object/tangible/quest/som_smoking_marker_04.iff", -4430.97, 44.4592, -4960.32, 0, 0 ) -- burning plains bridge
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "smokingFourUsed", pSmokingFour, pPlayer)		

	pSmokingFive = spawnSceneObject("mustafar", "object/tangible/quest/som_smoking_marker_05.iff", -5453.01, 137.572, 6194.37, 0, 0 ) -- north jedi ruin
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "smokingFiveUsed", pSmokingFive, pPlayer)		




	pTulrusOne = spawnSceneObject("mustafar", "object/tangible/quest/som_tulrus_marker_01.iff", -1660.25, 74.0196, 2445.78, 0, 0 ) -- tulrus grounds entrance
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "tulrusOneUsed", pTulrusOne, pPlayer)		
	
	pTulrusTwo = spawnSceneObject("mustafar", "object/tangible/quest/som_tulrus_marker_02.iff", -1797.86, 83.2939, 3038.4, 0, 0 ) -- tulrus grounds center
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "tulrusTwoUsed", pTulrusTwo, pPlayer)		

	pTulrusThree = spawnSceneObject("mustafar", "object/tangible/quest/som_tulrus_marker_03.iff", -1971, 85.2697, 4073.65, 0, 0 ) -- sher kar cave
	createObserver(OBJECTRADIALUSED, "miningFieldMarkersScreenPlay", "tulrusThreeUsed", pTulrusThree, pPlayer)
	
end

function miningFieldMarkersScreenPlay:berkenOneUsed(pBerkenOne, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenOneUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenOneUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Droid factory marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:berkenTwoUsed(pBerkenTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:pBerkenTwo function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:pBerkenTwo pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02)
		CreatureObject(pPlayer):sendSystemMessage("Tulrus Isle Bridge Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:berkenThreeUsed(pBerkenThree, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenThreeUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenThreeUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03)
		CreatureObject(pPlayer):sendSystemMessage("Jedi Ruins Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end		
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:berkenFourUsed(pBerkenFour, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFourUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFourUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04)
		CreatureObject(pPlayer):sendSystemMessage("Old Republic Facility Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:berkenFiveUsed(pBerkenFive, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function miningFieldMarkersScreenPlay:burningOneUsed(pBurningOne, pPlayer)

	print("miningFieldMarkersScreenPlay:burningOneUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:burningOneUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Burning Plains Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Burning Plains markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:burningTwoUsed(pBurningTwo, pPlayer)


	print("miningFieldMarkersScreenPlay:burningTwoUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:burningTwoUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02)
		CreatureObject(pPlayer):sendSystemMessage("Burning Plains Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Burning Plains markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end

	return 0
end

function miningFieldMarkersScreenPlay:burningThreeUsed(pBurningThree, pPlayer)


	print("miningFieldMarkersScreenPlay:burningThreeUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:burningThreeUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03)
		CreatureObject(pPlayer):sendSystemMessage("Burning Plains Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Burning Plains markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end

	return 0
end

function miningFieldMarkersScreenPlay:burningFourUsed(pBurningFour, pPlayer)


	print("miningFieldMarkersScreenPlay:burningFourUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:burningFourUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04)
		CreatureObject(pPlayer):sendSystemMessage("Burning Plains Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Burning Plains markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end

	return 0
end

function miningFieldMarkersScreenPlay:burningFiveUsed(pBurningFive, pPlayer)

	print("miningFieldMarkersScreenPlay:burningFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:burningFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Burning Plains Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Burning Plains markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function miningFieldMarkersScreenPlay:volcanoOneUsed(pVolcanoOne, pPlayer)

	print("miningFieldMarkersScreenPlay:volcanoOneUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:volcanoOneUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Central Volcano Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Central Volcano markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:volcanoTwoUsed(pVolcanoTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:volcanoTwoUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:volcanoTwoUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02)
		CreatureObject(pPlayer):sendSystemMessage("Central Volcano Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Central Volcano markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else  
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:volcanoThreeUsed(pVolcanoThree, pPlayer)

	print("miningFieldMarkersScreenPlay:volcanoThreeUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:volcanoThreeUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03)
		CreatureObject(pPlayer):sendSystemMessage("Central Volcano Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Central Volcano markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------
function miningFieldMarkersScreenPlay:crystalOneUsed(pCrystalOne, pPlayer)

	print("miningFieldMarkersScreenPlay:crystalOneUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:crystalOneUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Crystal Flats Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Crystal Flats markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end


function miningFieldMarkersScreenPlay:crystalTwoUsed(pCrystalTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:crystalTwoUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:crystalTwoUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02)
		CreatureObject(pPlayer):sendSystemMessage("Crystal Flats Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Crystal Flats markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:crystalThreeUsed(pCrystalThree, pPlayer)

	print("miningFieldMarkersScreenPlay:crystalThreeUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:crystalThreeUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03)
		CreatureObject(pPlayer):sendSystemMessage("Crystal Flats Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Crystal Flats markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else  
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:crystalFourUsed(pCrystalFour, pPlayer)

	print("miningFieldMarkersScreenPlay:crystalFourUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:crystalFourUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04)
		CreatureObject(pPlayer):sendSystemMessage("Crystal Flats Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Crystal Flats markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else  
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:crystalFiveUsed(pCrystalFive, pPlayer)

	print("miningFieldMarkersScreenPlay:crystalFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:crystalFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Crystal Flats Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Crystal Flats markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else  
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------
function miningFieldMarkersScreenPlay:miningOneUsed(pMiningOne, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Mining Field markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:miningTwoUsed(pMiningTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Mining Field markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:miningThreeUsed(pMiningThree, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Mining Field markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:miningFourUsed(pMiningFour, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Mining Field markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else  
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:miningFiveUsed(pMiningFive, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Mining Field markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------

function miningFieldMarkersScreenPlay:smokingOneUsed(pSmokingOne, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:smokingTwoUsed(pSmokingTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:smokingThreeUsed(pSmokingThree, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:smokingFourUsed(pSmokingFour, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:smokingFiveUsed(pSmokingFive, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------
function miningFieldMarkersScreenPlay:tulrusOneUsed(pTulrusOne, pPlayer)

	print("miningFieldMarkersScreenPlay:tulrusOneUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:tulrusOneUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_01) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_01)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:tulrusTwoUsed(pTulrusTwo, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

function miningFieldMarkersScreenPlay:tulrusThreeUsed(pTulrusThree, pPlayer)

	print("miningFieldMarkersScreenPlay:berkenFiveUsed function started")
	if (not SceneObject(pPlayer):isPlayerCreature()) then
		return 0
	end
	
	local playerID = CreatureObject(pPlayer):getObjectID()
	print("miningFieldMarkersScreenPlay:berkenFiveUsed pPlayer ok")

	if QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
		
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):sendSystemMessage("Berken's Flow Marker activated.")
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_counter.snd")
		
			if QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04) and QuestManager.hasCompletedQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05) then
			
			QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
			CreatureObject(pPlayer):sendSystemMessage("You have activated all of the Berken's Flow markers. Please return to Surveyor Kelsev.")
			CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_completed.snd")
			
			end
	
	else 
		CreatureObject(pPlayer):sendSystemMessage("This object does not interest you.")
	end
	return 0
end

jo_kelsev_conv_handler = conv_handler:new {}

function jo_kelsev_conv_handler:getInitialScreen(pPlayer, pNpc, pConvTemplate)

	local convoTemplate = LuaConversationTemplate(pConvTemplate)
	local playerID = SceneObject(pPlayer):getObjectID()
	local player = LuaCreatureObject(pPlayer)
	
	
	if (QuestManager.hasActiveQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)) then
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW)
		QuestManager.completeQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS)
		CreatureObject(pPlayer):addCashCredits(5000, true)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_credits.snd")
		return convoTemplate:getScreen("completed_berken")
		
--completeQuest
	elseif (readData(playerID .. ":miningFieldMarkersScreenPlay:completedTask") == 1) then--QuestManager.quests.SOM_BERKENS_FLOW_MARKERS		= 188
		print("Convo screen is completedTask")

		CreatureObject(pPlayer):addCashCredits(10000, true)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_credits.snd")

		deleteData(playerID .. ":miningFieldMarkersScreenPlay:acceptedTask")--reset quest for testing.
		deleteData(playerID .. ":miningFieldMarkersScreenPlay:goalReached")
		deleteData(playerID .. ":miningFieldMarkersScreenPlay:completedTask")

		return convoTemplate:getScreen("quest_completed")

--goalReached
	elseif (readData(playerID .. ":miningFieldMarkersScreenPlay:goalReached") == 1) then
	print("Convo screen is goalReached")

		writeData(playerID .. ":miningFieldMarkersScreenPlay:completedTask", 1)
		return convoTemplate:getScreen("quest_completed")

	else
		return convoTemplate:getScreen("first_screen")
	end
end

function jo_kelsev_conv_handler:runScreenHandlers(pConvTemplate, pPlayer, pNpc, selectedOption, pConvScreen)

	local screen = LuaConversationScreen(pConvScreen)
	local screenID = screen:getScreenID()
	local playerID = SceneObject(pPlayer):getObjectID()

	if (screenID == "accept_berkens_flow") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_03)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_04)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BERKENS_FLOW_MARKERS_05)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")

	elseif (screenID == "accept_burning_plains") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_03)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_04)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_BURNING_PLAINS_MARKERS_05)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")
		
	elseif (screenID == "accept_volcano") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CENTRAL_VOLCANO_MARKERS_03)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")
		
	elseif (screenID == "accept_crystal_flats") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_03)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_04)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_CRYSTAL_FLATS_MARKERS_05)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")
		
	elseif (screenID == "accept_mining_field") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_03)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_04)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_MINING_FIELD_MARKERS_05)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")

	elseif (screenID == "accept_smoking_forest") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS_03)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS_04)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_SMOKING_FOREST_MARKERS_05)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")
		
	elseif (screenID == "accept_volcano") then
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_01)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_02)
		QuestManager.activateQuest(pPlayer, QuestManager.quests.SOM_NESTING_GROUNDS_MARKERS_03)
		CreatureObject(pPlayer):playMusicMessage("sound/ui_npe2_quest_received.snd")
	end

	return pConvScreen
end

